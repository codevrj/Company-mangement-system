
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> Departments Information </title>
    <script>
      var baseurl = "http://localhost:9001/departments";
      function loadDepartments(){
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.open("GET",baseurl + "/departments",true);
        xmlhttp.onreadystatechange = function() {
          if(xmlhttp.readyState ===4 && xmlhttp.status ===200){
            var persons = JSON.parse(xmlhttp.responseText);
            var tbltop = `<table>
			    <tr><th>Department Id</th><th>Department Name</th><th>Department Address</th><th>Department Code</th></tr>`;
            //main table content we fill from data from the rest call
            var main ="";
            for (i = 0; i < departments.length; i++){
              main += "<tr><td>"+departments[i].departmentId+"</td><td>"+departments[i].departmentName+"</td><td>"+departments[i].departmentAddress+"</td><td>"+departments[i].departmentCode+"</td></tr>";
            }
            var tblbottom = "</table>";
            var tbl = tbltop + main + tblbottom;
            document.getElementById("departmentinfo").innerHTML = tbl;
          }
        };
        xmlhttp.send();
      }
      window.onload = function(){
        loadDepartments();
      }
    </script>
</head>
<body>
<div id="departmentinfo"> </div>
</body>
</html>

<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="ISO-8859-1">-->
<!--    <title>System</title>-->
<!--    <link rel="stylesheet"-->
<!--          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"-->
<!--          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"-->
<!--          crossorigin="anonymous">-->
<!--</head>-->
<!--<body>-->
<!--<nav class="navbar navbar-expand-md bg-dark navbar-dark">-->
<!--    &lt;!&ndash; Brand &ndash;&gt;-->
<!--    <a class="navbar-brand" href="#">Department</a>-->

<!--    &lt;!&ndash; Toggler/collapsibe Button &ndash;&gt;-->
<!--    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">-->
<!--        <span class="navbar-toggler-icon"></span>-->
<!--    </button>-->

<!--    &lt;!&ndash; Navbar links &ndash;&gt;-->
<!--    <div class="collapse navbar-collapse" id="collapsibleNavbar">-->
<!--        <ul class="navbar-nav">-->
<!--            <li class="nav-item">-->
<!--                <a class="nav-link" th:href="@{/departments}">User Management</a>-->
<!--            </li>-->
<!--        </ul>-->
<!--    </div>-->
<!--</nav>-->

<!--<div class ="container">-->
<!--    <div class = "row">-->
<!--        <h1> List Departments </h1>-->
<!--    </div>-->

<!--    <div class = "row">-->
<!--        <div class = "col-lg-3">-->
<!--            <a th:href = "@{/departments/}" class = "btn btn-primary btn-sm mb-3"> Add Department</a>-->
<!--        </div>-->
<!--    </div>-->
<!--    <table class = "table table-striped table-bordered">-->
<!--        <thead class = "table-dark">-->
<!--        <tr>-->
<!--            <th> Department ID</th>-->
<!--            <th> Department Name</th>-->
<!--            <th> Department Location</th>-->
<!--            <th> Department Code</th>-->
<!--            <th> Actions </th>-->
<!--        </tr>-->
<!--        </thead>-->

<!--        <tbody>-->
<!--        <tr th:each = "department: ${departments}">-->
<!--            <td th:text = "${department.departmentId}"></td>-->
<!--            <td th:text = "${department.departmentName}"></td>-->
<!--            <td th:text = "${department.departmentAddress}"></td>-->
<!--            <td th:text = "${department.departmentCode}"></td>-->
<!--            <td>-->
<!--                <a th:href = "@{/departments/{departmentId}(id=${department.departmentId})}"-->
<!--                   class = "btn btn-primary">Update</a>-->

<!--                <a th:href = "@{/departments/{departmentId(id=${departments.departmentId})}"-->
<!--                   class = "btn btn-danger">Delete</a>-->

<!--            </td>-->
<!--        </tr>-->
<!--        </tbody>-->

<!--    </table>-->

<!--</div>-->
<!--</body>-->
<!--</html>-->